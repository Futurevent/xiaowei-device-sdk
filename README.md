### 简介

腾讯云小微硬件开放平台是一个能将语音交互能力输出给第三方硬件厂商的平台，无论是音箱、电视、玩具、OTT 盒子、投影仪还是汽车，只需要一个 SDK 即可完成接入，为设备赋予人工智能语音能力。我们将语音唤醒、语音识别、语义分析、信令收发以及众多的内置资源及服务，如音乐、天气、导航等核心能力提供给智能音箱、智能电视、智能玩具、OTT 盒子等传统硬件领域的合作伙伴，实现用户与设备、设备与服务之间的语音联动能力。我们致力于帮助传统硬件快速转型为具有语音控制能力的智能硬件，帮助合作伙伴降低云端、APP 端等研发成本，提升用户粘性并通过开放腾讯的丰富资源以及服务来给予硬件更多想象空间。更多的信息，请查看[腾讯云小微硬件开放平台官网](https://xiaowei.qcloud.com/hardware.html)。

### 框架说明

框架图如下图所示

![](http://qzonestyle.gtimg.cn/qzone/vas/opensns/res/doc/xiaowei_architecture_201831.png)

**小微通道层**：通道层的作用是维护设备端与小微后台之间的通信通道。主要的功能如下：

1. 设备的注册、认证、鉴权以及配网等功能；
2. 维护与小微后台服务之间的长连接通道；
3. 提供语音流的上行接口以及其他通用服务的接口。

**唤醒引擎**：唤醒模块是用于检测用户说的话中包含指定唤醒词的一个功能模块。唤醒模块需要持续录制声音确保设备能够及时检测到唤醒词，当用户说到唤醒词后，设备就从休眠状态被唤醒。**目前小微的唤醒模块处于测试阶段，暂不正式输出，如果需要使用可以[联系我们](https://xiaowei.qcloud.com/wiki/#OpenSrc_Contact_Us)。**

**控制层**：控制层的作用是根据通道层返回的数据流（包括播放资源，指令）启动或管理各个 Skill 场景。主要的功能如下：

1. 数据流处理；
2. 资源的播放和UI控制；
3. 各个 Skill 之间优先级的管理。

**应用层**：应用层是以上三个模块的桥梁。需要实现以下功能：

1. 负责声音采集；
2. 通过通道层发起请求；
3. 将响应交给控制层处理；
4. 收到控制层相应事件后进行UI展示、声音播放。

> 备注：
> 控制层和应用层的实现可以复用开源代码，也可以自行实现，但是需要遵循[厂商体验约束规范](https://docs.google.com/spreadsheets/d/1aOW1Pq4DY1vasCpcPjyNnozxzls9IYoAZyE5PAXdtvk/edit#gid=0)。

### 目录结构说明

- DeviceSDK：该目录包含小微通道层 SDK；
- Device：里面包含控制层开源代码(CtrlModule)、Demo(Android、Linux、MacOs)以及部分功能协议的示例代码(Sample)。

### 接入指引

具体各个平台的接入指引请查看[小微官网接入文档](https://xiaowei.qcloud.com/wiki/#OpenSrc_index)。

### 编译说明

控制层的编译依赖一些第三方库，[了解详情](https://xiaowei.qcloud.com/wiki/#OpenSrc_SDK_Download)。
